{"version":3,"sources":["utils/request.js","components/Message.js","utils/evebt-bus.js","components/SignIn.js","components/SignUp.js","components/Post.js","components/Skeleton.js","components/Draggable.js","components/Layout.js","App.js","serviceWorker.js","index.js"],"names":["isDev","process","checkStatus","response","status","error","Error","statusText","handleResponseData","data","ret","headers","arguments","length","undefined","code","_callee","url","body","options","toast","_args","regenerator_default","a","wrap","_context","prev","next","concat","fetch","Object","objectSpread","method","Content-Type","credentials","JSON","stringify","sent","json","abrupt","stop","_callee2","_context2","request","postJSON","get","classes","message","display","alignItems","success","backgroundColor","green","red","info","blue","warning","amber","variantIcon","react_default","createElement","CheckCircle_default","Warning_default","Error_default","Info_default","Message","handleClose","_this","props","onClose","_this$props","this","open","type","Snackbar_default","anchorOrigin","vertical","horizontal","autoHideDuration","SnackbarContent_default","style","id","action","IconButton_default","key","aria-label","color","onClick","Close_default","React","Component","EventBus","classCallCheck","events","prototype","emit","e","_len","args","Array","_key","isArray","i","apply","addListener","func","push","eventBus","SignIn","state","username","password","snackbar","setState","handleChange","name","event","defineProperty","target","value","handleLogin","_this$state","setTimeout","history","t0","msg","Message_Message","assign","className","TextField_default","label","onChange","margin","variant","autoComplete","Button_default","size","SignUp","handleSignUp","Transition","Slide_default","direction","FullScreenDialog","possibleConstructorReturn","getPrototypeOf","call","handleClickOpen","textareaRef","current","focus","handleSave","asyncToGenerator","mark","newItem","console","log","Date","toString","content","done","onCreateSuccess","createRef","_this2","Fab_default","Add_default","Dialog_default","fullScreen","TransitionComponent","AppBar_default","appBar","Toolbar_default","Typography_default","flex","ref","textarea","withStyles","position","textAlign","overflow","height","fontSize","lineHeight","padding","resize","border","outline","Skeleton","Drag","index","newValue","produce","draft","items","toggleEdit","tagName","editable","handleToggle","item","debounce","handleCreateSuccess","unshift","postData","map","n","notes","btnSave","handleDelete","itemId","_callee3","_context3","splice","findIndex","deleteAreaShow","onDragEnd","bind","assertThisInitialized","onDragStart","result","destination","droppableId","itemToDelete","source","list","startIndex","endIndex","from","_result$splice","removed","slicedToArray","reorder","_","isEqual","formatData","_context4","react_beautiful_dnd_esm","draggableId","provided","snapshot","innerRef","draggableProps","dragHandleProps","isDragging","draggableStyle","userSelect","zIndex","grid","boxSizing","borderRadius","background","borderColor","boxShadow","multiline","rowsMax","fullWidth","Save_default","Delete_default","float","Check_default","textDecoration","Post","droppableProps","isDraggingOver","maxHeight","width","maxWidth","placeholder","transition","ButtonAppBar","isLoggedIn","logout","logEle","react_router_dom","to","root","grow","react_router","path","exact","component","flexGrow","menuButton","marginLeft","marginRight","theme","createMuiTheme","typography","useNextVariants","palette","primary","secondary","main","contrastText","App","styles","Layout","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f3eccc32.chunk.js","sourcesContent":["import fetch from 'isomorphic-unfetch'\r\nconst isDev = process.env.NODE_ENV === 'development'\r\n\r\nfunction checkStatus(response) {\r\n    if (response.status >= 200 && response.status < 300) {\r\n        return response\r\n    }\r\n\r\n    const error = new Error(response.statusText)\r\n    error.response = response\r\n    throw error\r\n}\r\n\r\nfunction handleResponseData(data, toast = true) {\r\n    const ret = {\r\n        data,\r\n        headers: {},\r\n    }\r\n\r\n    // 如果错误码 !== 0 默认弹出 toast\r\n    if (toast && ret.data && ret.data.code !== 0) {\r\n        throw ret.data\r\n    }\r\n\r\n    return ret.data.data\r\n}\r\n\r\n/**\r\n * Requests a URL, returning a promise.\r\n *\r\n * @param  {string} url       The URL we want to request\r\n * @param  {object} [options] The options we want to pass to \"fetch\"\r\n * @return {object}           An object containing either \"data\" or \"err\"\r\n */\r\nconst request = {\r\n    postJSON,\r\n    get,\r\n}\r\n\r\nasync function postJSON(url, body, options = {}, toast = true) {\r\n    url = isDev ? url : `http://118.24.146.34:8770${url}`\r\n    const response = await fetch(url, {\r\n        ...options,\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(body),\r\n    })\r\n\r\n    checkStatus(response)\r\n\r\n    const data = await response.json()\r\n\r\n    return handleResponseData(data, toast)\r\n}\r\n\r\nasync function get(url) {\r\n    url = isDev ? url : `http://118.24.146.34:8770${url}`\r\n\r\n    const response = await fetch(url, { credentials: 'include' })\r\n\r\n    checkStatus(response)\r\n\r\n    const data = await response.json()\r\n\r\n    return handleResponseData(data)\r\n}\r\n\r\nexport default request\r\n","import React from 'react'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport green from '@material-ui/core/colors/green'\r\nimport amber from '@material-ui/core/colors/amber'\r\nimport red from '@material-ui/core/colors/red'\r\nimport blue from '@material-ui/core/colors/blue'\r\n\r\nconst classes = {\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    success: {\r\n        backgroundColor: green[600],\r\n    },\r\n    error: {\r\n        backgroundColor: red[500],\r\n    },\r\n    info: {\r\n        backgroundColor: blue[900],\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n}\r\n\r\nconst variantIcon = {\r\n    success: <CheckCircleIcon />,\r\n    warning: <WarningIcon />,\r\n    error: <ErrorIcon />,\r\n    info: <InfoIcon />,\r\n}\r\n\r\nexport default class Message extends React.Component {\r\n    handleClose = () => {\r\n        this.props.onClose()\r\n    }\r\n\r\n    render() {\r\n        const { open, message, type } = this.props\r\n        return (\r\n            <Snackbar\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n                autoHideDuration={3000}\r\n                onClose={this.handleClose}\r\n                open={open}\r\n            >\r\n                <SnackbarContent\r\n                    style={classes[type]}\r\n                    message={\r\n                        <span id=\"client-snackbar\" style={classes.message}>\r\n                            {variantIcon[type]}\r\n                            {message}\r\n                        </span>\r\n                    }\r\n                    action={[\r\n                        <IconButton\r\n                            key=\"close\"\r\n                            aria-label=\"Close\"\r\n                            color=\"inherit\"\r\n                            onClick={this.handleClose}\r\n                        >\r\n                            <CloseIcon />\r\n                        </IconButton>,\r\n                    ]}\r\n                />\r\n            </Snackbar>\r\n        )\r\n    }\r\n}\r\n","class EventBus {\r\n    constructor() {\r\n        this.events = this.events || {}\r\n    }\r\n}\r\n\r\nEventBus.prototype.emit = function (type, ...args) {\r\n    let e\r\n    e = this.events[type]\r\n    if (Array.isArray(e)) {\r\n        for (let i = 0; i < e.length; i++) {\r\n            e[i].apply(this, args)\r\n        }\r\n    } else {\r\n        e[0].apply(this, args)\r\n    }\r\n}\r\n\r\nEventBus.prototype.addListener = function (type, func) {\r\n    const e = this.events[type]\r\n\r\n    if (!e) {   //如果从未注册过监听函数，则将函数放入数组存入对应的键名下\r\n        this.events[type] = [func];\r\n    } else {  //如果注册过，则直接放入\r\n        e.push(func);\r\n    }\r\n}\r\n\r\nconst eventBus = new EventBus()\r\nexport default eventBus\r\n","import React from 'react'\r\nimport request from '../utils/request'\r\nimport Message from './Message'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport EventBus from '../utils/evebt-bus'\r\n\r\nexport default class SignIn extends React.Component {\r\n    state = {\r\n        username: '',\r\n        password: '',\r\n        snackbar: {\r\n            open: false,\r\n            message: '',\r\n            type: '',\r\n        },\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({\r\n            snackbar: {\r\n                open: false,\r\n                message: '',\r\n                type: '',\r\n            },\r\n        })\r\n    }\r\n\r\n    handleChange = name => event => {\r\n        this.setState({\r\n            [name]: event.target.value,\r\n        })\r\n    }\r\n\r\n    handleLogin = async () => {\r\n        const { username, password } = this.state\r\n        if (!username || !password) {\r\n            this.setState({\r\n                snackbar: {\r\n                    open: true,\r\n                    message: '请填写用户名和密码',\r\n                    type: 'warning',\r\n                },\r\n            })\r\n        }\r\n        try {\r\n            await request.postJSON('/login', {\r\n                username,\r\n                password,\r\n            })\r\n            this.setState(\r\n                {\r\n                    snackbar: {\r\n                        open: true,\r\n                        message: '登录成功',\r\n                        type: 'success',\r\n                    },\r\n                },\r\n                () => {\r\n                    setTimeout(() => {\r\n                        this.props.history.push('/')\r\n                        EventBus.emit('login')\r\n                    }, 1000)\r\n                },\r\n            )\r\n        } catch (e) {\r\n            this.setState({\r\n                snackbar: {\r\n                    open: true,\r\n                    message: e.msg,\r\n                    type: 'error',\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Message {...this.state.snackbar} onClose={this.handleClose} />\r\n                <div className=\"sign\">\r\n                    <TextField\r\n                        id=\"username\"\r\n                        label=\"用户名\"\r\n                        value={this.state.username}\r\n                        onChange={this.handleChange('username')}\r\n                        margin=\"normal\"\r\n                        variant=\"outlined\"\r\n                    />\r\n                    <TextField\r\n                        id=\"password\"\r\n                        label=\"密码\"\r\n                        type=\"password\"\r\n                        value={this.state.password}\r\n                        onChange={this.handleChange('password')}\r\n                        autoComplete=\"current-password\"\r\n                        margin=\"normal\"\r\n                        variant=\"outlined\"\r\n                    />\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        size=\"large\"\r\n                        color=\"primary\"\r\n                        onClick={this.handleLogin}\r\n                    >\r\n                        登录\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport request from '../utils/request'\r\nimport Message from './Message'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport './sign.css'\r\n\r\nexport default class SignUp extends React.Component {\r\n    state = {\r\n        username: '',\r\n        password: '',\r\n        snackbar: {\r\n            open: false,\r\n            message: '',\r\n            type: '',\r\n        },\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({\r\n            snackbar: {\r\n                open: false,\r\n                message: '',\r\n                type: '',\r\n            },\r\n        })\r\n    }\r\n\r\n    handleChange = name => event => {\r\n        this.setState({\r\n            [name]: event.target.value,\r\n        })\r\n    }\r\n\r\n    handleSignUp = async () => {\r\n        const { username, password } = this.state\r\n        if (!username || !password) {\r\n            this.setState({\r\n                snackbar: {\r\n                    open: true,\r\n                    message: '请填写用户名和密码',\r\n                    type: 'warning',\r\n                },\r\n            })\r\n        }\r\n        try {\r\n            await request.postJSON('/signUp', {\r\n                username,\r\n                password,\r\n            })\r\n            this.setState(\r\n                {\r\n                    snackbar: {\r\n                        open: true,\r\n                        message: '注册成功',\r\n                        type: 'success',\r\n                    },\r\n                },\r\n                () => {\r\n                    setTimeout(() => {\r\n                        this.props.history.push('/signin')\r\n                    }, 1000)\r\n                },\r\n            )\r\n        } catch (e) {\r\n            this.setState({\r\n                snackbar: {\r\n                    open: true,\r\n                    message: e.msg,\r\n                    type: 'error',\r\n                },\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Message {...this.state.snackbar} onClose={this.handleClose} />\r\n                <div className=\"sign\">\r\n                    <TextField\r\n                        id=\"username\"\r\n                        label=\"用户名\"\r\n                        value={this.state.username}\r\n                        onChange={this.handleChange('username')}\r\n                        margin=\"normal\"\r\n                        variant=\"outlined\"\r\n                    />\r\n                    <TextField\r\n                        id=\"password\"\r\n                        label=\"密码\"\r\n                        type=\"password\"\r\n                        value={this.state.password}\r\n                        onChange={this.handleChange('password')}\r\n                        autoComplete=\"current-password\"\r\n                        margin=\"normal\"\r\n                        variant=\"outlined\"\r\n                    />\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        size=\"large\"\r\n                        color=\"primary\"\r\n                        onClick={this.handleSignUp}\r\n                    >\r\n                        注册\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport request from '../utils/request'\r\n\r\nconst styles = {\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  flex: {\r\n    flex: 1,\r\n    textAlign: 'center'\r\n  },\r\n  textarea: {\r\n    overflow: \"visible\",\r\n    height: 'calc(100vh - 80px)',\r\n    fontSize: '18px',\r\n    lineHeight: '1.5',\r\n    padding: '16px',\r\n    resize: 'none',\r\n    border: 'none',\r\n    outline: 'none'\r\n  }\r\n};\r\n\r\nfunction Transition(props) {\r\n  return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nclass FullScreenDialog extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.textareaRef = React.createRef()\r\n    this.state = {\r\n      open: false,\r\n      content: ''\r\n    }\r\n  }\r\n\r\n  handleClickOpen = () => {\r\n    this.setState({ open: true }, () => {\r\n      setTimeout(() => {\r\n        this.textareaRef.current.focus()\r\n      }, 300)\r\n    });\r\n  };\r\n\r\n  handleSave = async () => {\r\n    console.log('clicked Save')\r\n    const newItem = {\r\n      id: (+new Date()).toString(),\r\n      content: this.state.content,\r\n      done: false,\r\n    }\r\n    try {\r\n      await request.postJSON(`/create`, newItem)\r\n      this.setState({ open: false, content: '' })\r\n      this.props.onCreateSuccess(newItem) // 通知父组件创建成功\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <div>\r\n        <Fab color=\"primary\" aria-label=\"Add\" className=\"btn-feb btn-feb-create\" onClick={this.handleClickOpen}>\r\n          <AddIcon />\r\n        </Fab>\r\n\r\n        <Dialog\r\n          fullScreen\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          TransitionComponent={Transition}\r\n        >\r\n          <AppBar className={classes.appBar}>\r\n            <Toolbar>\r\n              <IconButton color=\"inherit\" onClick={this.handleClose} aria-label=\"Close\">\r\n                <CloseIcon />\r\n              </IconButton>\r\n              <Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\r\n                新建笔记\r\n              </Typography>\r\n              <Button color=\"inherit\" onClick={this.handleSave}>\r\n                保存\r\n              </Button>\r\n            </Toolbar>\r\n          </AppBar>\r\n          <textarea ref={this.textareaRef} className={classes.textarea} value={this.state.content} onChange={(e) => this.setState({ content: e.target.value })} />\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(FullScreenDialog);","import React from 'react'\r\n\r\nexport default function Skeleton () {\r\n    return (\r\n        <div className=\"skeleton\">\r\n            <div className=\"skeleton-content\"></div>\r\n            <div className=\"skeleton-content\"></div>\r\n            <div className=\"skeleton-content\"></div>\r\n            <div className=\"skeleton-content\"></div>\r\n            <div className=\"skeleton-content\"></div>\r\n            <div className=\"skeleton-content\"></div>\r\n        </div>\r\n    )\r\n} ","import React from 'react';\r\nimport produce from 'immer'\r\nimport _ from 'lodash/lang'\r\nimport { debounce } from 'lodash/function'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CheckIcon from '@material-ui/icons/Check'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport Message from './Message'\r\nimport request from '../utils/request'\r\n\r\nimport Post from './Post'\r\nimport Skeleton from './Skeleton'\r\n\r\n// a little function to help us with reordering the result\r\nconst reorder = (list, startIndex, endIndex) => {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n\r\n  return result;\r\n};\r\n\r\nconst grid = 8;\r\n\r\nconst getItemStyle = (isDragging, draggableStyle) => ({\r\n  // some basic styles to make the items look a bit nicer\r\n  position: 'relative',\r\n  userSelect: \"none\",\r\n  zIndex: '3',\r\n  padding: grid / 2,\r\n  margin: `0 0 ${grid}px 0`,\r\n  boxSizing: 'border-box',\r\n  border: '2px solid',\r\n  borderRadius: '4px',\r\n  // change background colour if dragging\r\n  background: \"#fff\",\r\n  borderColor: isDragging ? \"#b3e5fc\" : \"#f6f6f6\",\r\n  boxShadow: isDragging ? '3px 3px 20px #4fc3f7' : 'none',\r\n\r\n  // styles we need to apply on draggables\r\n  ...draggableStyle\r\n});\r\n\r\nconst getListStyle = isDraggingOver => ({\r\n  boxSizing: 'border-box',\r\n  maxHeight: 'calc(100vh - 64px)',\r\n  overflow: 'auto',\r\n  background: isDraggingOver ? \"#e1f5fe\" : \"#fff\",\r\n  border: '1px solid #ddd',\r\n  padding: grid,\r\n  width: '100%',\r\n  maxWidth: '480px',\r\n  margin: '0 auto',\r\n});\r\n\r\nconst getDeleteAreaStyle = isDraggingOver => ({\r\n  textAlign: 'center',\r\n  transition: '.3s',\r\n  color: isDraggingOver ? '#fff' : '#e53935',\r\n  background: isDraggingOver ? \"#e53935\" : \"transparent\",\r\n  padding: grid,\r\n  width: '100%',\r\n  height: '48px',\r\n  margin: '0 auto',\r\n});\r\n\r\nexport default class Drag extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      items: [],\r\n      done: false,\r\n      btnSave: false,\r\n      deleteAreaShow: false,\r\n      snackbar: {\r\n        open: false,\r\n        message: '',\r\n        type: '',\r\n      },\r\n    };\r\n    this.onDragEnd = this.onDragEnd.bind(this);\r\n    this.onDragStart = this.onDragStart.bind(this);\r\n  }\r\n\r\n  handleChange = index => event => {\r\n    const newValue = event.target.value\r\n    this.setState(produce(draft => {\r\n      draft.items[index].content = newValue\r\n    }))\r\n  }\r\n\r\n  toggleEdit = index => (e) => {\r\n    if (e.target.tagName === 'TEXTAREA') return\r\n    this.setState(produce(draft => {\r\n      draft.items[index].editable = !draft.items[index].editable\r\n    }))\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({\r\n      snackbar: {\r\n        open: false,\r\n        message: '',\r\n        type: '',\r\n      },\r\n    })\r\n  }\r\n\r\n  onDragStart() {\r\n    this.setState({\r\n      deleteAreaShow: true\r\n    })\r\n  }\r\n\r\n  onDragEnd(result) {\r\n    // dropped outside the list\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n\r\n    // console.log(result.destination.droppableId, this.state.items[result.source.index])\r\n    if (result.destination.droppableId === 'deleteArea') { // 调用删除逻辑\r\n      const itemToDelete = this.state.items[result.source.index]\r\n     this.handleDelete(itemToDelete.id)()\r\n    }\r\n\r\n    const items = reorder(\r\n      this.state.items,\r\n      result.source.index,\r\n      result.destination.index\r\n    );\r\n\r\n    this.setState({ deleteAreaShow: false })\r\n\r\n    if (result.destination.droppableId === 'deleteArea' && _.isEqual(items, this.state.items)) return\r\n\r\n    this.setState({ items, btnSave: true });\r\n  }\r\n\r\n  handleToggle = (item, index) => debounce(() => {\r\n    this.setState(produce(draft => {\r\n      draft.items[index].done = !draft.items[index].done\r\n    }), async () => {\r\n      try {\r\n        await request.postJSON(`/update/${item.id}`, { done: this.state.items[index].done })\r\n      } catch (e) {\r\n        this.setState({\r\n          snackbar: {\r\n            open: true,\r\n            message: e.msg,\r\n            type: 'error',\r\n          },\r\n        })\r\n      }\r\n    })\r\n  }, 200)\r\n\r\n  handleCreateSuccess = (newItem) => {\r\n    this.setState(produce(draft => {\r\n      draft.items.unshift(newItem)\r\n      draft.snackbar = {\r\n        open: true,\r\n        message: '创建成功',\r\n        type: 'success',\r\n      }\r\n    }))\r\n  }\r\n\r\n  handleSave = async () => {\r\n    const postData = this.state.items.map(n => {\r\n      return { id: n.id, content: n.content, done: n.done }\r\n    })\r\n    try {\r\n      await request.postJSON('/updateNotes', {\r\n        notes: postData,\r\n      })\r\n      this.setState(\r\n        {\r\n          snackbar: {\r\n            open: true,\r\n            message: '保存成功',\r\n            type: 'success',\r\n          },\r\n          btnSave: false\r\n        },\r\n      )\r\n    } catch (e) {\r\n      this.setState({\r\n        snackbar: {\r\n          open: true,\r\n          message: e.msg,\r\n          type: 'error',\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  handleDelete = itemId => async () => {\r\n    try {\r\n      await request.postJSON(`/delete/${itemId}`)\r\n      this.setState(produce(draft => {\r\n        draft.snackbar = {\r\n          open: true,\r\n          message: '删除成功',\r\n          type: 'success',\r\n        }\r\n        draft.items.splice(draft.items.findIndex(n => n.id === itemId), 1)\r\n        draft.btnSave = false\r\n      }))\r\n    } catch (e) {\r\n      this.setState({\r\n        snackbar: {\r\n          open: true,\r\n          message: e.msg,\r\n          type: 'error',\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const data = await request.get('/getNotes')\r\n      if (!data) {\r\n        return false // 数据为空\r\n      }\r\n      // console.log('Datas: ', data)\r\n      const formatData = data.map(n => {\r\n        return { id: n.id, content: n.content, done: n.done || false } // 老用户的notes中没有done属性\r\n      })\r\n      this.setState({ items: formatData, done: true })\r\n    }\r\n    catch (e) {\r\n      this.setState({\r\n        snackbar: {\r\n          open: true,\r\n          message: e.msg,\r\n          type: 'error',\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let content\r\n    let btnSave\r\n    if (this.state.items.length || this.state.done) {\r\n      content = this.state.items.map((item, index) => (\r\n        <Draggable key={item.id} draggableId={item.id} index={index}>\r\n          {(provided, snapshot) => (\r\n            <div\r\n              ref={provided.innerRef}\r\n              {...provided.draggableProps}\r\n              {...provided.dragHandleProps}\r\n              style={getItemStyle(\r\n                snapshot.isDragging,\r\n                provided.draggableProps.style\r\n              )}\r\n              >\r\n              {item.editable ?\r\n                <div onClick={this.toggleEdit(index)}>\r\n                  <TextField\r\n                    label=\"Note\"\r\n                    multiline\r\n                    rowsMax=\"5\"\r\n                    fullWidth\r\n                    className=\"input-multiline\"\r\n                    value={item.content} onChange={this.handleChange(index)}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <div className=\"input-multiline-btns\">\r\n                    <IconButton onClick={this.handleSave} variant=\"contained\" size=\"small\" color=\"secondary\"><SaveIcon /></IconButton>\r\n                    <IconButton onClick={this.handleDelete(item.id)} variant=\"contained\" size=\"small\"><DeleteIcon /></IconButton>\r\n                  </div>\r\n                </div> :\r\n                <div>\r\n                  <IconButton onClick={this.handleToggle(item, index)} variant=\"contained\" size=\"small\" color={item.done? 'secondary' : 'default'} style={{float: 'left'}}><CheckIcon /></IconButton>\r\n                  <div className=\"text-multiline\" style={item.done ? { textDecoration: 'line-through', color: '#ccc' } : {}} onClick={this.toggleEdit(index)}><pre>{item.content ? item.content : <span style={{ color: '#ccc' }}>点击编辑</span>}</pre></div>\r\n                </div>\r\n              }\r\n            </div>\r\n          )}\r\n        </Draggable>\r\n      ))\r\n    } else {\r\n      content = <Skeleton />\r\n    }\r\n\r\n    if (this.state.btnSave) {\r\n      btnSave = <Fab color=\"secondary\" aria-label=\"Edit\" className=\"btn-feb btn-feb-save\" onClick={this.handleSave}>\r\n        <CheckIcon />\r\n      </Fab>\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Message {...this.state.snackbar} onClose={this.handleClose} />\r\n        {btnSave}\r\n        <Post onCreateSuccess={this.handleCreateSuccess} />\r\n        <DragDropContext onDragStart={this.onDragStart} onDragEnd={this.onDragEnd}>\r\n          <Droppable droppableId=\"droppable\">\r\n            {(provided, snapshot) => (\r\n              <div\r\n                {...provided.droppableProps}\r\n                ref={provided.innerRef}\r\n                style={getListStyle(snapshot.isDraggingOver)}\r\n              >\r\n                {content}\r\n                {provided.placeholder}\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n          <Droppable droppableId=\"deleteArea\">\r\n            {(provided, snapshot) => (\r\n              <div\r\n                {...provided.droppableProps}\r\n                ref={provided.innerRef}\r\n                style={getDeleteAreaStyle(snapshot.isDraggingOver)}\r\n              > \r\n                {this.state.deleteAreaShow ? <DeleteIcon /> : ''}\r\n                {provided.placeholder}\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n        </DragDropContext>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\r\nimport request from '../utils/request'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport { HashRouter as Router, Link, Route } from 'react-router-dom'\r\n\r\nimport SignIn from './SignIn'\r\nimport SignUp from './SignUp'\r\nimport Drag from './Draggable'\r\n\r\nimport EventBus from '../utils/evebt-bus'\r\n\r\n\r\nconst styles = {\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    grow: {\r\n        flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n        marginLeft: -12,\r\n        marginRight: 20,\r\n    },\r\n}\r\n\r\nclass ButtonAppBar extends React.Component {\r\n    state = {\r\n        isLoggedIn: false,\r\n    }\r\n\r\n    async componentDidMount() {\r\n        EventBus.addListener('login', () => {\r\n            this.setState({ isLoggedIn: true })\r\n        })\r\n        try {\r\n            await request.get('/checkLogin')\r\n            this.setState({ isLoggedIn: true })\r\n        } catch (e) {\r\n            this.setState({ isLoggedIn: false })\r\n        }\r\n    }\r\n\r\n    logout = async () => {\r\n        try {\r\n            await request.postJSON('/logout', {})\r\n            this.setState({ isLoggedIn: false })\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props\r\n        let logEle\r\n        if (this.state.isLoggedIn) {\r\n            logEle = (\r\n                <div className=\"logout\" onClick={this.logout}>\r\n                    退出登录\r\n                </div>\r\n            )\r\n        } else {\r\n            logEle = (\r\n                <div className=\"link-wrapper\">\r\n                    <Link to=\"/\">笔记</Link>\r\n                    <Link to=\"/signin/\">登录</Link>\r\n                    <Link to=\"/signup/\">注册</Link>\r\n                </div>\r\n            )\r\n        }\r\n        return (\r\n            <div className={classes.root}>\r\n                <Router>\r\n                    <AppBar position=\"static\">\r\n                        <Toolbar>\r\n                            <Typography variant=\"h6\" color=\"inherit\" className={classes.grow} />\r\n                            {logEle}\r\n                        </Toolbar>\r\n                    </AppBar>\r\n                    <Route path=\"/\" exact component={Drag} />\r\n                    <Route path=\"/signin/\" component={SignIn} />\r\n                    <Route path=\"/signup/\" component={SignUp} />\r\n                    <Route path=\"/drag/\" component={Drag} />\r\n                </Router>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nButtonAppBar.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withStyles(styles)(ButtonAppBar)\r\n","import React from 'react'\r\nimport './App.css'\r\n\r\nimport Layout from './components/Layout'\r\n\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\r\nimport blue from '@material-ui/core/colors/blue'\r\n\r\nconst theme = createMuiTheme({\r\n    typography: {\r\n        useNextVariants: true,\r\n    },\r\n    palette: {\r\n        primary: blue,\r\n        secondary: {\r\n            main: '#64dd17',\r\n            contrastText: '#fff',\r\n        },\r\n    },\r\n})\r\n\r\nfunction App() {\r\n    return (\r\n        <MuiThemeProvider theme={theme}>\r\n            <div className=\"App\">\r\n                <Layout />\r\n            </div>\r\n        </MuiThemeProvider>\r\n    )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}