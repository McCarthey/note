(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){e.exports=a(292)},133:function(e,t,a){},134:function(e,t,a){},276:function(e,t,a){},284:function(e,t,a){},292:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),o=a.n(s),c=(a(133),a(134),a(17)),i=a.n(c),l=a(27),u=a(22),p=a(23),h=a(25),m=a(24),d=a(26),g=a(113),v=a(76),f=a.n(v);function b(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function w(e){var t={data:e,headers:{}};if((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&t.data&&0!==t.data.code)throw t.data;return t.data}function y(){return(y=Object(l.a)(i.a.mark(function e(t,a){var n,r,s,o=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},r=!(o.length>3&&void 0!==o[3])||o[3],e.next=4,f()(t,Object(g.a)({},n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}));case 4:return b(s=e.sent),e.next=8,s.json();case 8:w(e.sent,r);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(){return(k=Object(l.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()(t);case 2:return b(a=e.sent),e.next=6,a.json();case 6:w(e.sent);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var O={postJSON:function(e,t){return y.apply(this,arguments)},get:function(e){return k.apply(this,arguments)}},E=a(37),j=a(126),C=a.n(j),S=a(127),x=a.n(S),N=a(75),L=a.n(N),I=a(46),J=a(29),T=a(36),A=a(121),z=a.n(A),U=a(122),B=a.n(U),D=a(123),H=a.n(D),M=a(74),G=a.n(M),P=a(119),R=a.n(P),W=a(120),V=a.n(W),$=a(116),q=a.n($),F=a(118),K=a.n(F),Q=a(114),X=a.n(Q),Y=a(115),Z=a.n(Y),_=a(73),ee=a.n(_),te=a(57),ae=a.n(te),ne={message:{display:"flex",alignItems:"center"},success:{backgroundColor:X.a[600]},error:{backgroundColor:ee.a[500]},info:{backgroundColor:ae.a[900]},warning:{backgroundColor:Z.a[700]}},re={success:r.a.createElement(q.a,null),warning:r.a.createElement(K.a,null),error:r.a.createElement(R.a,null),info:r.a.createElement(V.a,null)},se=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(){a.props.onClose()},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.message,n=e.type;return r.a.createElement(z.a,{anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,onClose:this.handleClose,open:t},r.a.createElement(G.a,{style:ne[n],message:r.a.createElement("span",{id:"client-snackbar",style:ne.message},re[n],a),action:[r.a.createElement(B.a,{key:"close","aria-label":"Close",color:"inherit",onClick:this.handleClose},r.a.createElement(H.a,null))]}))}}]),t}(r.a.Component),oe=a(38),ce=a.n(oe),ie=a(58),le=a.n(ie),ue=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",snackbar:{open:!1,message:"",type:""}},a.handleClose=function(){a.setState({snackbar:{open:!1,message:"",type:""}})},a.handleChange=function(e){return function(t){a.setState(Object(T.a)({},e,t.target.value))}},a.handleLogin=Object(l.a)(i.a.mark(function e(){var t,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.username,r=t.password,n&&r||a.setState({snackbar:{open:!0,message:"\u8bf7\u586b\u5199\u7528\u6237\u540d\u548c\u5bc6\u7801",type:"warning"}}),e.prev=2,e.next=5,O.postJSON("/login",{username:n,password:r});case 5:a.setState({snackbar:{open:!0,message:"\u767b\u5f55\u6210\u529f",type:"success"}},function(){setTimeout(function(){a.props.history.push("/"),window.location.reload()},1e3)}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a.setState({snackbar:{open:!0,message:e.t0.msg,type:"error"}});case 11:case"end":return e.stop()}},e,null,[[2,8]])})),a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(se,Object.assign({},this.state.snackbar,{onClose:this.handleClose})),r.a.createElement("div",{className:"sign"},r.a.createElement(ce.a,{id:"username",label:"\u7528\u6237\u540d",value:this.state.username,onChange:this.handleChange("username"),margin:"normal",variant:"outlined"}),r.a.createElement(ce.a,{id:"password",label:"\u5bc6\u7801",type:"password",value:this.state.password,onChange:this.handleChange("password"),autoComplete:"current-password",margin:"normal",variant:"outlined"}),r.a.createElement(le.a,{variant:"contained",size:"large",color:"primary",onClick:this.handleLogin},"\u767b\u5f55")))}}]),t}(r.a.Component),pe=(a(276),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",snackbar:{open:!1,message:"",type:""}},a.handleClose=function(){a.setState({snackbar:{open:!1,message:"",type:""}})},a.handleChange=function(e){return function(t){a.setState(Object(T.a)({},e,t.target.value))}},a.handleSignUp=Object(l.a)(i.a.mark(function e(){var t,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.username,r=t.password,n&&r||a.setState({snackbar:{open:!0,message:"\u8bf7\u586b\u5199\u7528\u6237\u540d\u548c\u5bc6\u7801",type:"warning"}}),e.prev=2,e.next=5,O.postJSON("/signUp",{username:n,password:r});case 5:a.setState({snackbar:{open:!0,message:"\u6ce8\u518c\u6210\u529f",type:"success"}},function(){setTimeout(function(){a.props.history.push("/signin")},1e3)}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a.setState({snackbar:{open:!0,message:e.t0.msg,type:"error"}});case 11:case"end":return e.stop()}},e,null,[[2,8]])})),a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(se,Object.assign({},this.state.snackbar,{onClose:this.handleClose})),r.a.createElement("div",{className:"sign"},r.a.createElement(ce.a,{id:"username",label:"\u7528\u6237\u540d",value:this.state.username,onChange:this.handleChange("username"),margin:"normal",variant:"outlined"}),r.a.createElement(ce.a,{id:"password",label:"\u5bc6\u7801",type:"password",value:this.state.password,onChange:this.handleChange("password"),autoComplete:"current-password",margin:"normal",variant:"outlined"}),r.a.createElement(le.a,{variant:"contained",size:"large",color:"primary",onClick:this.handleSignUp},"\u6ce8\u518c")))}}]),t}(r.a.Component)),he=a(124),me=a.n(he),de=(a(284),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={layout:[{i:"a",x:0,y:0,w:1,h:2},{i:"b",x:1,y:0,w:3,h:2},{i:"c",x:4,y:0,w:1,h:2}]},a.changeStop=function(){console.log(a.state.layout)},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.layout;return r.a.createElement(me.a,{className:"layout",layout:e,cols:12,rowHeight:30,width:1080,onDragStop:this.changeStop,onResizeStop:this.changeStop},r.a.createElement("div",{key:"a"},"a"),r.a.createElement("div",{key:"b"},"b"),r.a.createElement("div",{key:"c"},"c"))}}]),t}(r.a.Component)),ge=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1},a.logout=Object(l.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.postJSON("/logout",{});case 3:a.setState({isLoggedIn:!1}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/checkLogin");case 3:this.setState({isLoggedIn:!0}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.setState({isLoggedIn:!1});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.props.classes;return e=this.state.isLoggedIn?r.a.createElement("div",{className:"logout",onClick:this.logout},"\u9000\u51fa\u767b\u5f55"):r.a.createElement("div",{className:"link-wrapper"},r.a.createElement(I.b,{to:"/"},"Home"),r.a.createElement(I.b,{to:"/signin/"},"SignIn"),r.a.createElement(I.b,{to:"/signup/"},"SignUp")),r.a.createElement("div",{className:t.root},r.a.createElement(I.a,null,r.a.createElement(C.a,{position:"static"},r.a.createElement(x.a,null,r.a.createElement(L.a,{variant:"h6",color:"inherit",className:t.grow}),e)),r.a.createElement(J.a,{path:"/",exact:!0,component:de}),r.a.createElement(J.a,{path:"/signin/",component:ue}),r.a.createElement(J.a,{path:"/signup/",component:pe})))}}]),t}(r.a.Component),ve=Object(E.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(ge),fe=Object(E.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:ae.a}});var be=function(){return r.a.createElement(E.MuiThemeProvider,{theme:fe},r.a.createElement("div",{className:"App"},r.a.createElement(ve,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[128,1,2]]]);
//# sourceMappingURL=main.9401d028.chunk.js.map